env:
  global:
  - GIT_NAME="'Markdown autodeploy'"
  - GIT_EMAIL="djw8605@gmail.com"
  - GH_REF="github.com/opensciencegrid/docs.git"
  - secure: DEz7vI4mEHJ91wKxCoyF1NTyEDH1jJu4MuOYrWXXYl/sSnB25zaPeVjd5kPnhdAPfqCEiQWc9Bi332FdiIAxkgZnD322lvNseZtCxSvo1El6L8pNHt4FsVGAblM8d7tGWHNMgQqJyzYxFhuQbGpG/P17QqMqOfrcNVDNGmBjIUGnv2LHWL3ZW8t+C3T8YjrVMpbsrzPIlal4tS8mAMX3TL1KmqD/r+OCeIzbVDhIJfuxy063lgS62J867Ta6678p1ESMQOWKVQ4U2Ey0FsvKA/E9M3hvtTv0Ltci/WTmt29g0C3y3cJEKCuT9RwHAwOSa/C+KkZynJ6FJtV1zUatEig6I0MycVJqssUr9q+BYxDNzQ1kStVXGefeR1swLSQIkwHWm9gg18wFN2YI72lvYjOJs80B1dDjaWYtgYkU3erWGk6/d/2tygfu3quF9pS0AHVkkMXHRo5x1IzSxF/V2bOiUhYBzMJ2Vrw6eDrZt7BxDpzeHeIMHjulNB3XiU9/MpcPQkuR2mco62QLREUYHpvMSjMBCK3ElEseqZ4Y6oVjFmQn/sSKT56McorSANchJ+iJvcrsssbYHh3jtu+eMTdc/3Sqyu2U1byvxusoRSkFWrbErVaxMfL59bGlCkGNsAdr9XSjiB9pVHA3Iq5bvqGPu0w5ZLOkQW/D7eXNmL4=
language: python
before_script:
- pip install mkdocs
- pip install MarkdownHighlight
script:
- git config user.name "Automatic Publish"
- git config user.email "djw8605@gmail.com"
- git remote add gh-token "https://${GH_TOKEN}@${GH_REF}";
- git fetch gh-token && git fetch gh-token gh-pages:gh-pages;
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then PYTHONPATH=src/ mkdocs gh-deploy -v --clean --remote-name gh-token; fi;
