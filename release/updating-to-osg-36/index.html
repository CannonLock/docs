
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://opensciencegrid.org/docs/release/updating-to-osg-36/">
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.0">
    
    
      
        <title>Updating to OSG 3.6 - OSG Site Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.33e2939f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-69012-29","opensciencegrid.github.io"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#updating-to-osg-36" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="OSG Site Documentation" class="md-header__button md-logo" aria-label="OSG Site Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OSG Site Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Updating to OSG 3.6
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/opensciencegrid/docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="OSG Site Documentation" class="md-nav__button md-logo" aria-label="OSG Site Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    OSG Site Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/opensciencegrid/docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../site-planning/" class="md-nav__link">
        Site Planning
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../common/registration/" class="md-nav__link">
        Registration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../site-verification/" class="md-nav__link">
        Site Verification
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../site-maintenance/" class="md-nav__link">
        Site Maintenance
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../common/help/" class="md-nav__link">
        Help
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Resource Sharing
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Resource Sharing" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Resource Sharing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1" type="checkbox" id="__nav_7_1" >
      
      <label class="md-nav__link" for="__nav_7_1">
        Compute
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Compute" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          Compute
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-sharing/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_2" type="checkbox" id="__nav_7_1_2" >
      
      <label class="md-nav__link" for="__nav_7_1_2">
        Pilot Containers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Pilot Containers" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_2">
          <span class="md-nav__icon md-icon"></span>
          Pilot Containers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-sharing/os-backfill-containers/" class="md-nav__link">
        Site Backfill
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-sharing/user-containers/" class="md-nav__link">
        User Allocations
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_3" type="checkbox" id="__nav_7_1_3" >
      
      <label class="md-nav__link" for="__nav_7_1_3">
        Compute Entrypoint
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Compute Entrypoint" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_3">
          <span class="md-nav__icon md-icon"></span>
          Compute Entrypoint
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../compute-element/htcondor-ce-overview/" class="md-nav__link">
        HTCondor-CE Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../compute-element/hosted-ce/" class="md-nav__link">
        Request a Hosted CE
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../compute-element/install-htcondor-ce/" class="md-nav__link">
        Install HTCondor-CE
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_4" type="checkbox" id="__nav_7_1_4" >
      
      <label class="md-nav__link" for="__nav_7_1_4">
        Worker Node
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Worker Node" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_4">
          <span class="md-nav__icon md-icon"></span>
          Worker Node
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/using-wn/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-wn/" class="md-nav__link">
        Install from RPM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-wn-tarball/" class="md-nav__link">
        Install from Tarball
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-wn-oasis/" class="md-nav__link">
        Install from OASIS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-cvmfs/" class="md-nav__link">
        Install CVMFS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-singularity/" class="md-nav__link">
        Install Singularity
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/using-wn-containers/" class="md-nav__link">
        Using WN Containers
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      <label class="md-nav__link" for="__nav_7_2">
        Data
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2_1" type="checkbox" id="__nav_7_2_1" >
      
      <label class="md-nav__link" for="__nav_7_2_1">
        HTTP & OASIS
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="HTTP & OASIS" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_2_1">
          <span class="md-nav__icon md-icon"></span>
          HTTP & OASIS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/run-frontier-squid-container/" class="md-nav__link">
        Running Frontier Squid in a Container
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/frontier-squid/" class="md-nav__link">
        Install Frontier Squid RPM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/update-oasis/" class="md-nav__link">
        Update OASIS Shared Repo
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/external-oasis-repos/" class="md-nav__link">
        Install an OASIS Repo
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2_2" type="checkbox" id="__nav_7_2_2" >
      
      <label class="md-nav__link" for="__nav_7_2_2">
        XRootD
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="XRootD" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_2_2">
          <span class="md-nav__icon md-icon"></span>
          XRootD
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/overview/" class="md-nav__link">
        XRootD Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/install-standalone/" class="md-nav__link">
        Install XRootD Standalone
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/install-storage-element/" class="md-nav__link">
        Install XRootD SE
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/xrootd-authorization/" class="md-nav__link">
        Configure Authorization
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/install-client/" class="md-nav__link">
        Using XRootD
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/install-cms-xcache/" class="md-nav__link">
        Install CMS XCache
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" >
      
      <label class="md-nav__link" for="__nav_7_3">
        Other
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Other" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Other
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/configuration-with-osg-configure/" class="md-nav__link">
        Configuration with OSG-Configure
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/install-gwms-frontend/" class="md-nav__link">
        Install GlideinWMS Frontend
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/install-cvmfs-stratum1/" class="md-nav__link">
        Install a CVMFS Stratum 1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/troubleshooting-gratia/" class="md-nav__link">
        Troubleshooting Gratia
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/schedd-filebeats/" class="md-nav__link">
        Install Transfer Log Filebeats
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/osg-token-renewer/" class="md-nav__link">
        Install OSG Token Renewal Service
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4" type="checkbox" id="__nav_7_4" >
      
      <label class="md-nav__link" for="__nav_7_4">
        Deprecated
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Deprecated" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_4">
          <span class="md-nav__icon md-icon"></span>
          Deprecated
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4_1" type="checkbox" id="__nav_7_4_1" >
      
      <label class="md-nav__link" for="__nav_7_4_1">
        POSIX Storage
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="POSIX Storage" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_4_1">
          <span class="md-nav__icon md-icon"></span>
          POSIX Storage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/gridftp/" class="md-nav__link">
        Install GridFTP Server
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/load-balanced-gridftp/" class="md-nav__link">
        Install Load Balanced GridFTP
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4_2" type="checkbox" id="__nav_7_4_2" >
      
      <label class="md-nav__link" for="__nav_7_4_2">
        HDFS
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="HDFS" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_4_2">
          <span class="md-nav__icon md-icon"></span>
          HDFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/hadoop-overview/" class="md-nav__link">
        HDFS Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/install-hadoop/" class="md-nav__link">
        Install HDFS
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4_3" type="checkbox" id="__nav_7_4_3" >
      
      <label class="md-nav__link" for="__nav_7_4_3">
        Security
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Security" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_4_3">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../security/lcmaps-voms-authentication/" class="md-nav__link">
        LCMAPS VOMS authentication
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../security/user-certs/" class="md-nav__link">
        User Certificates
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/gsissh/" class="md-nav__link">
        Install GSI-enabled SSH
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/install-rsv/" class="md-nav__link">
        Install RSV
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/advanced-rsv-configuration/" class="md-nav__link">
        Advanced RSV Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/rsv-control/" class="md-nav__link">
        Manage RSV via rsv-control
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/install-rsv-gwms-tester/" class="md-nav__link">
        RSV GlideinWMS Tester
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Access Point
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Access Point" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Access Point
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../submit/osg-flock/" class="md-nav__link">
        Install an OS Pool Access Point
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../submit/ap-ospool-aup/" class="md-nav__link">
        Acceptable Use Policy
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        Data Federation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data Federation" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Data Federation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_2" type="checkbox" id="__nav_9_2" >
      
      <label class="md-nav__link" for="__nav_9_2">
        Data Cache
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data Cache" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_2">
          <span class="md-nav__icon md-icon"></span>
          Data Cache
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/run-stashcache-container/" class="md-nav__link">
        Install from container
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/install-cache/" class="md-nav__link">
        Install from RPM
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_3" type="checkbox" id="__nav_9_3" >
      
      <label class="md-nav__link" for="__nav_9_3">
        Data Origin
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data Origin" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_3">
          <span class="md-nav__icon md-icon"></span>
          Data Origin
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/run-stash-origin-container/" class="md-nav__link">
        Install from container
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/install-origin/" class="md-nav__link">
        Install from RPM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/vo-data/" class="md-nav__link">
        Publishing VO data
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" checked>
      
      <label class="md-nav__link" for="__nav_10">
        Releases
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Releases" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../release_series/" class="md-nav__link">
        Release Series
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2" type="checkbox" id="__nav_10_2" >
      
      <label class="md-nav__link" for="__nav_10_2">
        OSG 3.5
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="OSG 3.5" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_2">
          <span class="md-nav__icon md-icon"></span>
          OSG 3.5
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../notes/" class="md-nav__link">
        Release Notes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../updating-to-osg-35/" class="md-nav__link">
        Updating to OSG 3.5
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_3" type="checkbox" id="__nav_10_3" checked>
      
      <label class="md-nav__link" for="__nav_10_3">
        OSG 3.6
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="OSG 3.6" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_3">
          <span class="md-nav__icon md-icon"></span>
          OSG 3.6
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../osg-36/" class="md-nav__link">
        News
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Updating to OSG 3.6
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Updating to OSG 3.6
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#updating-the-osg-repositories" class="md-nav__link">
    Updating the OSG Repositories
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-your-osg-compute-entrypoint" class="md-nav__link">
    Updating Your OSG Compute Entrypoint
  </a>
  
    <nav class="md-nav" aria-label="Updating Your OSG Compute Entrypoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#turning-off-ce-services" class="md-nav__link">
    Turning off CE services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-ce-packages" class="md-nav__link">
    Updating CE packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-ce-configuration" class="md-nav__link">
    Updating CE configuration
  </a>
  
    <nav class="md-nav" aria-label="Updating CE configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gratia-probe" class="md-nav__link">
    Gratia Probe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osg-configure" class="md-nav__link">
    OSG-Configure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#htcondor-ce" class="md-nav__link">
    HTCondor-CE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-ce-services" class="md-nav__link">
    Starting CE services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-your-htcondor-hosts" class="md-nav__link">
    Updating Your HTCondor Hosts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../supported_platforms/" class="md-nav__link">
        Supported Platforms
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../common/yum/" class="md-nav__link">
        OSG Yum Repos
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../yum-basics/" class="md-nav__link">
        Yum Basics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../signing/" class="md-nav__link">
        RPM Signing
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      <label class="md-nav__link" for="__nav_11">
        CA Certificates
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="CA Certificates" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          CA Certificates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../common/ca/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../security/certificate-management/" class="md-nav__link">
        Certificate Management Reference
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_3" type="checkbox" id="__nav_11_3" >
      
      <label class="md-nav__link" for="__nav_11_3">
        Host Certificates
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Host Certificates" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_3">
          <span class="md-nav__icon md-icon"></span>
          Host Certificates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../security/host-certs/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../security/host-certs/incommon/" class="md-nav__link">
        Using InCommon
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../security/host-certs/lets-encrypt/" class="md-nav__link">
        Using Let's Encrypt
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#updating-the-osg-repositories" class="md-nav__link">
    Updating the OSG Repositories
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-your-osg-compute-entrypoint" class="md-nav__link">
    Updating Your OSG Compute Entrypoint
  </a>
  
    <nav class="md-nav" aria-label="Updating Your OSG Compute Entrypoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#turning-off-ce-services" class="md-nav__link">
    Turning off CE services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-ce-packages" class="md-nav__link">
    Updating CE packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-ce-configuration" class="md-nav__link">
    Updating CE configuration
  </a>
  
    <nav class="md-nav" aria-label="Updating CE configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gratia-probe" class="md-nav__link">
    Gratia Probe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osg-configure" class="md-nav__link">
    OSG-Configure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#htcondor-ce" class="md-nav__link">
    HTCondor-CE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-ce-services" class="md-nav__link">
    Starting CE services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-your-htcondor-hosts" class="md-nav__link">
    Updating Your HTCondor Hosts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/opensciencegrid/docs/edit/master/docs/release/updating-to-osg-36.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <div class="admonition danger">
<p class="admonition-title">Before considering an upgrade to OSG 3.6&hellip;</p>
<p>Due to potentially disruptive changes in protocols, contact your VO(s) to verify that they support token-based
authentication and/or HTTP-based data transfer before considering an upgrade to OSG 3.6.
If your VO(s) don't support these new protocols or you don't know which protocols your VO(s) support,
install or remain on the <a href="../notes/">OSG 3.5 release series</a>.</p>
</div>
<h1 id="updating-to-osg-36">Updating to OSG 3.6<a class="headerlink" href="#updating-to-osg-36" title="Permanent link">&para;</a></h1>
<p><a href="../release_series/#series-overviews">OSG 3.6</a> (the <em>new series</em>) is a major overhaul of the OSG software stack compared
to OSG 3.5 (the <em>old series</em>) with changes to core protocols used for authentication and data transfer.
Depending on the VO(s) that you support, updating to the new series could result in issues with your site receiving
pilot jobs and/or issues with data transfer.</p>
<p>If you have verified that your VO(s) support token-based pilot submission and HTTP-based data transfers,
use this document to update your OSG software to OSG 3.6.</p>
<p>Many software packages, such as HTCondor and HTCondor-CE, use Python 3 scripts. If you are using Enterprise Linux 7,
you must upgrade to at least version 7.8 to get Python 3 support.</p>
<h2 id="updating-the-osg-repositories">Updating the OSG Repositories<a class="headerlink" href="#updating-the-osg-repositories" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before updating the OSG repository, be sure to turn off any OSG services. Consult the sections below
that match your situation.</p>
</div>
<ol>
<li>
<p>Clean the yum cache:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum clean all --enablerepo<span class="o">=</span>*
</code></pre></div>

</li>
<li>
<p>Disable to upcoming repository:</p>
<div class="codehilite"><pre><span></span><code><span class="go">yum-config-manager --disable osg-upcoming</span>
</code></pre></div>

</li>
<li>
<p>Remove the old series Yum repositories:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>rpm -e osg-release
</code></pre></div>

<p>This step ensures that any local modifications to <code>*.repo</code> files will not prevent installing the new series repos.
Any modified <code>*.repo</code> files should appear under <code>/etc/yum.repos.d/</code> with the <code>*.rpmsave</code> extension.
After installing the new OSG repositories (the next step) you may want to apply any changes made in the <code>*.rpmsave</code>
files to the new <code>*.repo</code> files.</p>
</li>
<li>
<p>Update your <a href="../../common/yum/#install-the-osg-repositories">Yum repositories</a> to OSG 3.6</p>
</li>
<li>
<p>Update software:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum update
</code></pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul>
<li>Please be aware that running <code>yum update</code> may also update other RPMs.
    You can exclude packages from being updated using the <code>--exclude=[package-name or glob]</code> option for the
    <code>yum</code> command.</li>
<li>Watch the yum update carefully for any messages about a <code>.rpmnew</code> file being created.
    That means that a configuration file had been edited, and a new default version was to be installed.
    In that case, RPM does not overwrite the edited configuration file but instead installs the new version with
    a <code>.rpmnew</code> extension.
    You will need to merge any edits that have made into the <code>.rpmnew</code> file and then move the merged version
    into place (that is, without the <code>.rpmnew</code> extension).</li>
</ul>
</div>
</li>
<li>
<p>Continue on to any update instructions that match the role(s) that the host performs.</p>
</li>
</ol>
<h2 id="updating-your-osg-compute-entrypoint">Updating Your OSG Compute Entrypoint<a class="headerlink" href="#updating-your-osg-compute-entrypoint" title="Permanent link">&para;</a></h2>
<div class="admonition danger">
<p class="admonition-title">Before considering an upgrade to OSG 3.6&hellip;</p>
<p>Due to potentially disruptive changes in authentication methods, contact your VO(s) to verify that they support
token-based authentication before considering an upgrade to OSG 3.6.
If your VO(s) don't support these new authentication methods or you don't know which authentication methods your
VO(s) support, install or remain on the <a href="../notes/">OSG 3.5 release series</a></p>
</div>
<p>In OSG 3.6, OSG Compute Entrypoints (CEs) only accept token-based pilot job submissions.
If you need to support token-based and GSI proxy-based pilot job submission,
you must install or remain on <a href="../notes/">OSG 3.5</a>.
If the VOs that you support have the capability to submit token-based pilots, you may update your CE to OSG 3.6.</p>
<p>In addition to the change in authentication protocol, OSG 3.6 CEs include new major versions of software that require
manual updates.
To upgrade your CE to OSG 3.6, follow the sections below to make your configuration OSG 3.6-compatible.</p>
<h3 id="turning-off-ce-services">Turning off CE services<a class="headerlink" href="#turning-off-ce-services" title="Permanent link">&para;</a></h3>
<ol>
<li>Register a <a href="../../common/registration/#registering-resource-downtimes">downtime</a></li>
<li>
<p>During the update, turn off the following services on your HTCondor-CE host:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>systemctl stop condor-ce
<span class="gp">root@host # </span>systemctl stop gratia-probes-cron
</code></pre></div>

</li>
<li>
<p>Run the command corresponding to your batch system to upload any remaining accounting records to the GRACC:</p>
<table>
<thead>
<tr>
<th align="left">If your batch system is...</th>
<th align="left">Then run the following command...</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">HTCondor</td>
<td align="left"><code>/usr/share/gratia/condor/condor_meter</code></td>
</tr>
<tr>
<td align="left">LSF</td>
<td align="left"><code>/usr/share/gratia/lsf/lsf</code></td>
</tr>
<tr>
<td align="left">PBS</td>
<td align="left"><code>/usr/share/gratia/pbs-lsf/pbs-lsf_meter.cron.sh</code></td>
</tr>
<tr>
<td align="left">SGE</td>
<td align="left"><code>/usr/share/gratia/sge/sge_meter.cron.sh</code></td>
</tr>
<tr>
<td align="left">Slurm</td>
<td align="left"><code>/usr/share/gratia/slurm/slurm_meter -c</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Disable the <code>gratia-probes-cron</code> service:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>systemctl disable gratia-probes-cron
</code></pre></div>

</li>
</ol>
<h3 id="updating-ce-packages">Updating CE packages<a class="headerlink" href="#updating-ce-packages" title="Permanent link">&para;</a></h3>
<p>After turning off your CE's services, you may proceed with the <a href="#updating-the-osg-repositories">repository and RPM update process</a>.</p>
<h3 id="updating-ce-configuration">Updating CE configuration<a class="headerlink" href="#updating-ce-configuration" title="Permanent link">&para;</a></h3>
<h4 id="gratia-probe">Gratia Probe<a class="headerlink" href="#gratia-probe" title="Permanent link">&para;</a></h4>
<p>The OSG 3.6 release series contains <a href="https://github.com/opensciencegrid/gratia-probe/releases/tag/v2.0.0-2">Gratia Probe 2</a>,
which uses the non-root HTCondor-CE probe to account for your site's resource contributions.
To ensure that your contributions continue to be properly accounted for, verify that your HTCondor-CE's
<code>PER_JOB_HISTORY_DIR</code> is set to <code>/var/lib/condor-ce/gratia/data</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>condor_ce_config_val -v PER_JOB_HISTORY_DIR
<span class="go">PER_JOB_HISTORY_DIR = /var/lib/condor-ce/gratia/data</span>
<span class="gp"># </span>at: /etc/condor-ce/config.d/99_gratia-ce.conf, line <span class="m">5</span>
<span class="gp"># </span>raw: <span class="nv">PER_JOB_HISTORY_DIR</span> <span class="o">=</span> /var/lib/condor-ce/gratia/data
</code></pre></div>

<ul>
<li>
<p><strong>If you see the above output</strong>, your Gratia Probe configuration is correct and you may continue onto the
  <a href="#osg-configure">next section</a>.</p>
</li>
<li>
<p><strong>If you do not see the above output</strong>, visit the file listed in the output of <code>condor_ce_config_val</code>, remove the
  offending value, and repeat until the proper value is returned.</p>
</li>
</ul>
<h4 id="osg-configure">OSG-Configure<a class="headerlink" href="#osg-configure" title="Permanent link">&para;</a></h4>
<p>The OSG 3.6 release series contains OSG-Configure 4, a major version upgrade from the previously released versions in the OSG.
See the <a href="https://github.com/opensciencegrid/osg-configure/releases/tag/v4.0.0">OSG-Configure 4.0.0 release notes</a>
for an overview of the changes.
Several configuration modules and options were removed or deprecated and CE configuration has been simplified;
the update from version 3 to version 4 will require some manual changes to your configuration.</p>
<p>To update OSG-Configure, perform the following steps:</p>
<ol>
<li>
<p>Merge any <code>*.rpmnew</code> files in <code>/etc/osg/config.d/</code></p>
</li>
<li>
<p>Uninstall <code>osg-configure-gip</code> and <code>osg-configure-misc</code> if they are installed:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host# </span>yum erase osg-configure-gip osg-configure-misc
</code></pre></div>

</li>
<li>
<p>If <code>/etc/osg/config.d/30-gip.ini.rpmsave</code> exists, merge its contents into <code>31-cluster.ini</code></p>
</li>
<li>
<p>Edit the <code>Site Information</code> configuration section (in <code>40-siteinfo.ini</code>):</p>
<ul>
<li>
<p>If <code>resource_group</code> is not set, add:</p>
<div class="codehilite"><pre><span></span><code>    resource_group = &lt;TOPOLOGY RESOURCE GROUP FOR THIS HOST&gt;
</code></pre></div>

</li>
<li>
<p>Delete the following attributes:</p>
<ul>
<li><code>sponsor</code></li>
<li><code>site_policy</code></li>
<li><code>contact</code></li>
<li><code>email</code></li>
<li><code>city</code></li>
<li><code>country</code></li>
<li><code>latitude</code></li>
<li><code>longitude</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Run osg-configure to apply your changes:</p>
<div class="codehilite"><pre><span></span><code>osg-configure -dc
</code></pre></div>

</li>
</ol>
<h4 id="htcondor-ce">HTCondor-CE<a class="headerlink" href="#htcondor-ce" title="Permanent link">&para;</a></h4>
<p>The OSG 3.6 release series contains <a href="https://htcondor.github.io/htcondor-ce/v5/releases/">HTCondor-CE 5</a>, a major
version upgrade from HTCondor-CE 4, which was available in the OSG 3.5 release repositories.
To update HTCondor-CE, perform the following steps:</p>
<ol>
<li>
<p>If you support the <code>OSG</code> or <code>GLOW</code> VOs and map their jobs to non-standard local Unix accounts
    (e.g., not <code>osg</code> and <code>glow</code>, respectively) add SciTokens mappings to a file in <code>/etc/condor-ce/mapfiles.d/</code>:</p>
<div class="codehilite"><pre><span></span><code># OSG
SCITOKENS /^https\:\/\/scitokens\.org\/osg\-connect,/ osg
# GLOW
SCITOKENS /^https\:\/\/chtc\.cs\.wisc\.edu,/ glow
</code></pre></div>

<p>Replacing <code>osg</code> and <code>glow</code> with the local Unix account for the OSG and GLOW VOs, respectively.</p>
</li>
<li>
<p>Also consult the <a href="https://htcondor.github.io/htcondor-ce/v5/releases/#updating-to-htcondor-ce-5">upgrade documentation</a>
    for other required configuration updates.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">For OSG CEs serving an HTCondor pool</p>
<p>If your OSG CE routes pilot jobs to a local HTCondor pool, also
see the section for <a href="#updating-your-htcondor-hosts">updating your HTCondor hosts</a></p>
</div>
<h3 id="starting-ce-services">Starting CE services<a class="headerlink" href="#starting-ce-services" title="Permanent link">&para;</a></h3>
<p>After updating your RPMs and updating your configuration, turn on the HTCondor-CE service:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>systemctl start condor-ce
</code></pre></div>

<p>!!! question "What about <code>gratia-probes-cron</code>?
    In OSG 3.6, the OSG CE no longer needs a separate service for Gratia Probe.
    Instead, the default CE configuration runs its Gratia Probe as a periodic process under the HTCondor-CE process tree.</p>
<h2 id="updating-your-htcondor-hosts">Updating Your HTCondor Hosts<a class="headerlink" href="#updating-your-htcondor-hosts" title="Permanent link">&para;</a></h2>
<div class="admonition danger">
<p class="admonition-title">Before considering an upgrade to OSG 3.6&hellip;</p>
<p>Due to potentially disruptive changes in authentication methods, contact your VO(s) to verify that they support
token-based authentication before considering an upgrade to OSG 3.6.
If your VO(s) don't support these new authentication methods or you don't know which authentication methods your
VO(s) support, install or remain on the <a href="../notes/">OSG 3.5 release series</a></p>
</div>
<ol>
<li>
<p>The following OSG specific configuration was dropped in anticipation of HTCondor's new secure by default
    configuration coming in HTCondor version 9.0. HTCondor's 9.0 recommended security configuration requires
    authentication for all access (including read access).</p>
<div class="codehilite"><pre><span></span><code>CONDOR_HOST = $(FULL_HOSTNAME)
DAEMON_LIST = COLLECTOR, MASTER, NEGOTIATOR, SCHEDD, STARTD

# require authentication and integrity for everything...
SEC_DEFAULT_AUTHENTICATION=REQUIRED
SEC_DEFAULT_INTEGRITY=REQUIRED

# ...except read access...
SEC_READ_AUTHENTICATION=OPTIONAL
SEC_READ_INTEGRITY=OPTIONAL

# ...and the outgoing (client side) connection since the server side will enforce its policy
SEC_CLIENT_AUTHENTICATION=OPTIONAL
SEC_CLIENT_INTEGRITY=OPTIONAL

# this will required PASSWORD authentications for daemon-to-daemon, and
# allow FS authentication for submitting jobs and running administrator commands
SEC_DEFAULT_AUTHENTICATION_METHODS = FS, PASSWORD
SEC_DAEMON_AUTHENTICATION_METHODS = PASSWORD
SEC_NEGOTIATOR_AUTHENTICATION_METHODS = PASSWORD
SEC_PASSWORD_FILE = /etc/condor/passwords.d/POOL

# admin commands (e.g. condor_off) can be run by:
#  1. root on the local host or the central manager
#  2. condor user on the local host or the central manager
ALLOW_ADMINISTRATOR = condor@*/$(FULL_HOSTNAME) condor@*/$(CONDOR_HOST) condor_pool@*/$(FULL_HOSTNAME) condor_pool@*/$(CONDOR_HOST)  root@$(UID_DOMAIN)/$(FULL_HOSTNAME)
# only the condor daemons on the central manager can negotiate
ALLOW_NEGOTIATOR = condor@*/$(CONDOR_HOST) condor_pool@*/$(CONDOR_HOST)
# any authenticated daemons in the pool can read/write/advertise
ALLOW_DAEMON = condor@* condor_pool@*
</code></pre></div>

</li>
<li>
<p>Manual intervention may be required to upgrade from the HTCondor 8.8 series to HTCondor 9.0.x.
    Please consult the <a href="https://htcondor.readthedocs.io/en/v9_0/version-history/upgrading-from-88-to-90-series.html">HTCondor 9.0 upgrade instructions</a>.</p>
</li>
<li>
<p>If you are upgrading from the HTCondor 8.9 series (8.9.11 and earlier), please consult the <a href="https://htcondor-wiki.cs.wisc.edu/index.cgi/wiki?p=UpgradingToNineDotZero">Upgrading to 9.0 instructions</a></p>
</li>
</ol>
<h2 id="getting-help">Getting Help<a class="headerlink" href="#getting-help" title="Permanent link">&para;</a></h2>
<p>To get assistance, please use the <a href="../../common/help/">this page</a>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../osg-36/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                News
              </div>
            </div>
          </a>
        
        
          <a href="../supported_platforms/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Supported Platforms
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        This material is based upon work supported by the
        <a href="https://nsf.gov">National Science Foundation</a>
        under Grant Nos.
        <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=1148698">1148698</a>
        , 
        <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=1836650">1836650</a>
        , and 
        <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">2030508</a>
        . Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>

      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.d892486b.min.js"></script>
      
    
  </body>
</html>